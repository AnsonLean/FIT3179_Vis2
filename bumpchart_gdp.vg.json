{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Bump Chart of GDP per capita rankings over time with flags",
  "height": 300,
  "width": 600,
  "title": "GDP per capita rankings of countries over time",
  "data": {
    "url": "bumpchart_GDP.json"
  },
  "layer": [
    {
      "mark": {
        "type": "line"
      },
      "encoding": {
        "x": {"field": "Year", "type": "ordinal", "title": "Year"},
        "y": {
          "field": "Rank",
          "type": "quantitative",
          "title": "Rank",
          "scale": {"reverse": true, "padding": 10}, 
          "axis": {"labelPadding": 10}
        },
        "color": {
          "field": "Country", "type": "nominal", "title": "Country", 
          "scale": {"range": ["#005BAC", "#808080", "#FF0000", "#8B4513", "#ADD8E6", "#800080", "#C71585", "#FFA500"]}
        }
      }
    },
    {
      "mark": {
        "type": "image",
        "width": 20,
        "height": 20
      },
      "encoding": {
        "x": {"field": "Year", "type": "ordinal"},
        "y": {
          "field": "Rank",
          "type": "quantitative",
          "scale": {"reverse": true, "padding": 10},
          "axis": {"labelPadding": 10}
        },
        "url": {"field": "Flag"},
        "tooltip": [
          {"field": "Country", "type": "nominal"},
          {"field": "GDP_per_capita", "type": "quantitative", "title": "GDP per capita", "format":","},
          {"field": "Year", "type": "ordinal"},
          {"field": "Rank", "type": "quantitative"}
        ]
      }
    }
  ],
  "config": {"legend": {"orient": "none", "direction": "horizontal", "titleFontSize": 12, "labelFontSize": 10, "legendX": 10, "legendY": 350, "gradientLength": 300}}
}
