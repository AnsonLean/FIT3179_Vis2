<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <!-- Import pure.css -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
     integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">

    <title>Malaysia Household</title>

</head>


<body>
    <div class="page">

        <div class="pure-g">
            <div class="pure-u-1-1">
                <h1>Malaysia Household</h1>
            </div>
            <!-- Dropdown for map selection-->
            <div class="pure-u-1-1">
                <label for="map_selection">Select a map:</label>
                <select id="map_selection">
                    <option value="choropleth_mean_state_map.vg.json">Average Income</option>
                    <option value="choropleth_median_state_map.vg.json">Median Income</option>
                    <option value="choropleth_poverty_state_map.vg.json">Poverty Rate</option>
                    <option value="choropleth_expenditure_state_map.vg.json">Average Expenditure</option>
                    <option value="choropleth_gini_state_map.vg.json">Gini Coefficient</option>
                </select>
            </div>
            <div class="pure-u-1-1">
                <div id="map" class="vis-container"></div>
            </div>
        </div>
        
        <div class="pure-g">
            <div class="pure-u-1-1">
                <h2>Household Trends in Malaysia</h2>
            </div>
            <div class="pure-u-1-1">
                <div id="trend_line" class="vis-container"></div>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>
        </div>

        <div class="pure-g">
            <div class="pure-u-1-1">
                <h2>Inequality Correlations</h2>
                <p>Note: The gini coefficient is between 0.28 - 0.40</p>
            </div>

            <div class="pure-u-1-1">
                <div id="scatter"></div>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>

        </div>

        <div class="pure-g">
            <div class="pure-u-1-1">
                <h2>State Comparison</h2>
            </div>

            <div class="pure-u-1-1">
                <div id="donut"></div>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>

            <div class="pure-u-1-3">
                <p>hi</p>
            </div>

        </div>
        <div class="pure-g">
            <div class="pure-u-1-1">
                <h2>South East Asia GDP Comparison</h2>
            </div>

            <div class="pure-u-1-2">
                <div id="bump_gdp"></div>
            </div>

            <div class="pure-u-1-2">
                <div id="bump_exp"></div>
            </div>

            <div class="pure-u-1-2">
                <p>Hi</p>
            </div>

            <div class="pure-u-1-2">
                <p>Hi</p>
            </div>

        </div>

    </div>


    <script type="text/javascript">
        
        //Function to load map
        function loadMap(mapFile){
            vegaEmbed("#map", mapFile).then(function(result) {
            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
            }).catch(console.error);
        }
        
        var initialMap = document.getElementById("map_selection").value;
        loadMap(initialMap);

        document.getElementById("map_selection").addEventListener("change", function(){
            var selectedMap = document.getElementById("map_selection").value;
            loadMap(selectedMap);
        });

        var vg_2 = "multiline_chart_income_poverty.vg.json"; 
        vegaEmbed("#trend_line", vg_2).then(function(result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        var vg_3 = "donutchart_state.vg.json"; 
        vegaEmbed("#donut", vg_3).then(function(result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        var vg_4 = "scatter_three.vg.json"; 
        vegaEmbed("#scatter", vg_4).then(function(result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        var vg_5 = "bumpchart_gdp.vg.json"; 
        vegaEmbed("#bump_gdp", vg_5).then(function(result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        var vg_6 = "bumpchart_expenses.vg.json"; 
        vegaEmbed("#bump_exp", vg_6).then(function(result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);
    </script>
</body>

</html>
