{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
      "text": "Average Income, Median Income, and Average Expenditure by State",
      "fontSize": 20,
      "fontWeight": "bold",
      "anchor": "middle"
  },
  "data": {
    "url": "https://raw.githubusercontent.com/AnsonLean/FIT3179_Vis2/refs/heads/main/dataset/hies_state.csv"
  },
  "config":{"view": {"stroke": "transparent"}},
  "hconcat": [
    {
      "width": 380,
      "height": 300,
      "layer": [
        {
          "mark": {"type": "arc", "innerRadius": 75, "stroke":"white", "strokeWidth":10},
          "encoding": {
            "theta": {"field": "income_mean", "type": "quantitative"},
            "color": {
              "field": "state",
              "type": "nominal",
              "scale": {
                "range": [
                  "#E69F00", "#56B4E9", "#009E73", "#F0E442",
                  "#0072B2", "#D55E00", "#CC79A7", "#999999",
                  "#66C2A5", "#FC8D62", "#8DA0CB", "#E78AC3",
                  "#A6D854", "#FFD92F", "#E5C494", "#B3B3B3"
                ]
              },
              "legend": {"orient": "none", "direction": "horizontal","titleAnchor":"middle", "title":"State", "legendX":0, "legendY":320}
            },
            "tooltip": [
              {"field": "state", "type": "nominal", "title": "State"},
              {"field": "income_mean", "type": "quantitative", "title": "Mean Income (RM)", "format": ","}
            ]
          }
        },
        {
          "mark": {"type": "text", "align": "center", "baseline": "middle", "fontSize": 15,
                   "font": "Arial", "fontWeight": "normal"},
          "encoding": {
            "text": {"value": "Average Income"},
            "x": {"signal": "width / 2"},
            "y": {"signal": "height / 2"}
          }
        }
      ]
    },
    {
      "width": 350,
      "height": 300,
      "layer": [
        {
          "mark": {"type": "arc", "innerRadius": 75, "stroke":"white", "strokeWidth":10},
          "encoding": {
            "theta": {"field": "income_median", "type": "quantitative"},
            "color": {
              "field": "state",
              "type": "nominal",
              "scale": {
                "range": [
                  "#E69F00", "#56B4E9", "#009E73", "#F0E442",
                  "#0072B2", "#D55E00", "#CC79A7", "#999999",
                  "#66C2A5", "#FC8D62", "#8DA0CB", "#E78AC3",
                  "#A6D854", "#FFD92F", "#E5C494", "#B3B3B3"
                ]
              }
            },
            "tooltip": [
              {"field": "state", "type": "nominal", "title": "State"},
              {"field": "income_median", "type": "quantitative", "title": "Median Income (RM)", "format": ","}
            ]
          }
        },
        {
          "mark": {"type": "text", "align": "center", "baseline": "middle", "fontSize": 15},
          "encoding": {
            "text": {"value": "Median Income"},
            "x": {"signal": "width / 2"},
            "y": {"signal": "height / 2"}
          }
        }
      ]
    },
    {
      "width": 340,
      "height": 300,
      "layer": [
        {
          "mark": {"type": "arc", "innerRadius": 75, "stroke":"white", "strokeWidth":10},
          "encoding": {
            "theta": {"field": "expenditure_mean", "type": "quantitative"},
            "color": {
              "field": "state",
              "type": "nominal",
              "scale": {
                "range": [
                  "#E69F00", "#56B4E9", "#009E73", "#F0E442",
                  "#0072B2", "#D55E00", "#CC79A7", "#999999",
                  "#66C2A5", "#FC8D62", "#8DA0CB", "#E78AC3",
                  "#A6D854", "#FFD92F", "#E5C494", "#B3B3B3"
                ]
              }
            },
            "tooltip": [
              {"field": "state", "type": "nominal", "title": "State"},
              {"field": "expenditure_mean", "type": "quantitative", "title": "Mean Expenditure (RM)", "format": ","}
            ]
          }
        },
        {
          "mark": {"type": "text", "align": "center", "baseline": "middle", "fontSize": 15},
          "encoding": {
            "text": {"value": "Average Expenditure"},
            "x": {"signal": "width / 2"},
            "y": {"signal": "height / 2"}
          }
        }
      ]
    }
  ]
}
